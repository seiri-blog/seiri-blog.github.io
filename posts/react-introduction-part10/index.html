<!doctype html><html lang=ja dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>コンポーネント間のデータ共有の基本 | Seiri's Blog</title><meta name=keywords content="react,入門"><meta name=description content="React 入門：コンポーネント間のデータ共有の基本 React ではコンポーネントを小さく分けて再利用する設計が基本です。しかし、複数のコンポーネントが同じデー"><meta name=author content="Seiri"><link rel=canonical href=https://seiri-blog.github.io/posts/react-introduction-part10/><meta name=yandex-verification content="017a61651e9c5c6d"><link href=https://seiri-blog.github.io/assets/css/stylesheet.css rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.js onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://seiri-blog.github.io/favicon.ico><link rel=apple-touch-icon href=https://seiri-blog.github.io/apple-touch-icon.png><link rel=mask-icon href=https://seiri-blog.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4988552421895566" crossorigin=anonymous></script>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-PLYEQ297HF"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-PLYEQ297HF",{anonymize_ip:!1})}</script><meta property="og:title" content="コンポーネント間のデータ共有の基本"><meta property="og:description" content="React 入門：コンポーネント間のデータ共有の基本 React ではコンポーネントを小さく分けて再利用する設計が基本です。しかし、複数のコンポーネントが同じデー"><meta property="og:type" content="article"><meta property="og:url" content="https://seiri-blog.github.io/posts/react-introduction-part10/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2025-09-22T15:42:56+09:00"><meta property="article:modified_time" content="2025-09-22T15:42:56+09:00"><meta property="og:site_name" content="Seiri's Blog"><meta name=twitter:card content="summary"><meta name=twitter:title content="コンポーネント間のデータ共有の基本"><meta name=twitter:description content="React 入門：コンポーネント間のデータ共有の基本 React ではコンポーネントを小さく分けて再利用する設計が基本です。しかし、複数のコンポーネントが同じデー"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://seiri-blog.github.io/posts/"},{"@type":"ListItem","position":2,"name":"コンポーネント間のデータ共有の基本","item":"https://seiri-blog.github.io/posts/react-introduction-part10/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"コンポーネント間のデータ共有の基本","name":"コンポーネント間のデータ共有の基本","description":"React 入門：コンポーネント間のデータ共有の基本 React ではコンポーネントを小さく分けて再利用する設計が基本です。しかし、複数のコンポーネントが同じデー","keywords":["react","入門"],"articleBody":"React 入門：コンポーネント間のデータ共有の基本 React ではコンポーネントを小さく分けて再利用する設計が基本です。しかし、複数のコンポーネントが同じデータにアクセスしたい場合、コンポーネント間でデータをどう共有するかが課題になります。\n今回は、基本的なデータ共有の方法と考え方を整理して紹介します。\n1. 親から子へのデータ共有（Props） 最も基本的な方法は Props を使うこと です。親コンポーネントが持つデータを子コンポーネントに渡す形です。\nfunction Child({ name }) {  return pこんにちは、{name}さん！p; }  function Parent() {  const userName = \"太郎\";  return Child name={userName} /; }  Parent がデータを持ち、Child に渡して表示 一方向のデータフロー（親 → 子）  2. 子から親へのデータ共有（関数を Props として渡す） 子コンポーネントから親にデータを伝えたい場合、親側で関数を定義し、それを Props として子に渡します。\nfunction Child({ onClick }) {  return button onClick={() = onClick(\"クリックされました\")}送信button; }  function Parent() {  const handleChildClick = (message) = {  console.log(\"子からのメッセージ:\", message);  };   return Child onClick={handleChildClick} /; }  子がボタンを押すと、親の関数が呼ばれてデータを受け取れる これも基本的には 一方向のフロー  3. 状態を上位コンポーネントに持たせる（リフトアップ） 複数の子コンポーネントで同じデータを共有したい場合、State を共通の親に持たせる方法があります。これを「リフトアップ（Lifting State Up）」と呼びます。\n例：複数の入力フォームで同じ値を管理 import { useState } from \"react\";  function Input({ value, onChange }) {  return input value={value} onChange={(e) = onChange(e.target.value)} /; }  function Display({ value }) {  return p入力内容: {value}p; }  function App() {  const [text, setText] = useState(\"\");   return (  div  Input value={text} onChange={setText} /  Display value={text} /  div  ); }  text は親コンポーネント App が管理 Input で変更 → Display に反映 これで複数の子コンポーネント間で同じ状態を共有できる  4. コンテキストを使ったデータ共有（Context API） 親子関係が深くなると、Props を何階層も渡す必要があり面倒です。この場合 Context API を使うと便利です。\nimport { createContext, useContext, useState } from \"react\";  const UserContext = createContext();  function Display() {  const user = useContext(UserContext);  return pユーザー: {user}p; }  function App() {  const [user] = useState(\"太郎\");   return (  UserContext.Provider value={user}  Display /  UserContext.Provider  ); }  UserContext.Provider に値をセットすると、その子孫コンポーネントならどこでも useContext で取得可能 Props を何階層も渡す必要がない  5. 外部ライブラリを使った状態管理（Redux, Zustand など） さらに大規模なアプリでは、グローバルに状態を管理するライブラリ を使うことが多いです。\n Redux, Zustand, Recoil など 複数のコンポーネントから同じ状態を直接読み書きできる Context よりも高度な状態管理が可能  まとめ  親から子へのデータ共有は Props 子から親へは 関数を Props として渡す 複数の子間で共有したいときは リフトアップ 親子関係が深い場合は Context API 大規模アプリでは 外部状態管理ライブラリ を検討  ","wordCount":"1163","inLanguage":"ja","datePublished":"2025-09-22T15:42:56+09:00","dateModified":"2025-09-22T15:42:56+09:00","author":{"@type":"Person","name":"Seiri"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://seiri-blog.github.io/posts/react-introduction-part10/"},"publisher":{"@type":"Organization","name":"Seiri's Blog","logo":{"@type":"ImageObject","url":"https://seiri-blog.github.io/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://seiri-blog.github.io/ accesskey=h title="Seiri's Blog (Alt + H)"><img src=https://seiri-blog.github.io/images/logo.svg alt aria-label=logo height=35>Seiri's Blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://seiri-blog.github.io/search/ title="🔍 (Alt + /)" accesskey=/><span>🔍</span></a></li><li><a href=https://seiri-blog.github.io/posts/ title=記事一覧><span>記事一覧</span></a></li><li><a href=https://seiri-blog.github.io/archives/ title=アーカイブ><span>アーカイブ</span></a></li><li><a href=https://seiri-blog.github.io/tags/ title=タグ><span>タグ</span></a></li><li><a href=https://seiri-blog.github.io/policy/ title=ポリシー><span>ポリシー</span></a></li><li><a href=https://seiri-blog.github.io/trailhead-superbadge title="Trailhead Superbadge"><span>Trailhead Superbadge</span>&nbsp;<svg fill="none" shape-rendering="geometricPrecision" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" viewBox="0 0 24 24" height="12" width="12"><path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"/><path d="M15 3h6v6"/><path d="M10 14 21 3"/></svg></a></li><li><a href=https://chrome-tool.github.io/ title=Chrome拡張機能><span>Chrome拡張機能</span>&nbsp;<svg fill="none" shape-rendering="geometricPrecision" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" viewBox="0 0 24 24" height="12" width="12"><path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"/><path d="M15 3h6v6"/><path d="M10 14 21 3"/></svg></a></li><li><a href=https://wallpapers-collection.github.io/bing-wallpaper/ title="Bing Wallpaper"><span>Bing Wallpaper</span>&nbsp;<svg fill="none" shape-rendering="geometricPrecision" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" viewBox="0 0 24 24" height="12" width="12"><path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"/><path d="M15 3h6v6"/><path d="M10 14 21 3"/></svg></a></li><li><a href=https://html-online-game.github.io/ title="Online Game"><span>Online Game</span>&nbsp;<svg fill="none" shape-rendering="geometricPrecision" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" viewBox="0 0 24 24" height="12" width="12"><path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"/><path d="M15 3h6v6"/><path d="M10 14 21 3"/></svg></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://seiri-blog.github.io/>ホーム</a>&nbsp;»&nbsp;<a href=https://seiri-blog.github.io/posts/>Posts</a></div><h1 class=post-title>コンポーネント間のデータ共有の基本</h1><ul class=post-tags><li><a href=https://seiri-blog.github.io/tags/react/>React</a></li><li><a href=https://seiri-blog.github.io/tags/%E5%85%A5%E9%96%80/>入門</a></li></ul><div class=post-meta><span title="2025-09-22 15:42:56 +0900 +0900">2025年9月22日</span>&nbsp;·&nbsp;3 分&nbsp;·&nbsp;1163 文字&nbsp;·&nbsp;Seiri</div></header><div class=share-area><ul><li class=facebook><a target=_blank rel="noopener noreferrer" aria-label="share コンポーネント間のデータ共有の基本 on facebook" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fseiri-blog.github.io%2fposts%2freact-introduction-part10%2f" title="Facebook で共有する"><svg viewBox="0 0 512 512" height="20" width="20" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a></li><li class=twitter><a target=_blank rel="noopener noreferrer" aria-label="share コンポーネント間のデータ共有の基本 on twitter" href="https://twitter.com/intent/tweet/?text=%e3%82%b3%e3%83%b3%e3%83%9d%e3%83%bc%e3%83%8d%e3%83%b3%e3%83%88%e9%96%93%e3%81%ae%e3%83%87%e3%83%bc%e3%82%bf%e5%85%b1%e6%9c%89%e3%81%ae%e5%9f%ba%e6%9c%ac&url=https%3a%2f%2fseiri-blog.github.io%2fposts%2freact-introduction-part10%2f&hashtags=react%2c%e5%85%a5%e9%96%80" title="Twitter(X) で共有する"><svg id="svg5" xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" height="30" width="30" viewBox="0 0 2e3 512"><g id="layer1" transform="translate(52.390088,-25.058597)"><path id="path1009" fill="#fff" d="M283.94 167.31l386.39 516.64L281.5 1104h87.51l340.42-367.76L984.48 1104h297.8L874.15 558.3l361.92-390.99h-87.51l-313.51 338.7-253.31-338.7H283.94zm128.69 64.46h136.81l604.13 807.76h-136.81L412.63 231.77z"/></g></svg></a></li><li class=hatena><a target=_blank rel="noopener noreferrer" aria-label="share コンポーネント間のデータ共有の基本 on Hatena" href="http://b.hatena.ne.jp/add?mode=confirm&url=https%3a%2f%2fseiri-blog.github.io%2fposts%2freact-introduction-part10%2f&title=%e3%82%b3%e3%83%b3%e3%83%9d%e3%83%bc%e3%83%8d%e3%83%b3%e3%83%88%e9%96%93%e3%81%ae%e3%83%87%e3%83%bc%e3%82%bf%e5%85%b1%e6%9c%89%e3%81%ae%e5%9f%ba%e6%9c%ac" title="Hatena で共有する">B!</a></li><li class=line><a target=_blank rel="noopener noreferrer" aria-label="share コンポーネント間のデータ共有の基本 on Line" href=http://line.me/R/msg/text/?https%3a%2f%2fseiri-blog.github.io%2fposts%2freact-introduction-part10%2f%0a%e3%82%b3%e3%83%b3%e3%83%9d%e3%83%bc%e3%83%8d%e3%83%b3%e3%83%88%e9%96%93%e3%81%ae%e3%83%87%e3%83%bc%e3%82%bf%e5%85%b1%e6%9c%89%e3%81%ae%e5%9f%ba%e6%9c%ac title="LINE で共有する"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48" width="35" height="50"><path fill="currentcolor" d="M37.113 22.417c0-5.865-5.88-10.637-13.107-10.637s-13.108 4.772-13.108 10.637c0 5.258 4.663 9.662 10.962 10.495.427.092 1.008.282 1.155.646.132.331.086.85.042 1.185.0.0-.153.925-.187 1.122-.057.331-.263 1.296 1.135.707 1.399-.589 7.548-4.445 10.298-7.611h-.001C36.203 26.879 37.113 24.764 37.113 22.417zm-18.238 3.49h-2.604c-.379.0-.687-.308-.687-.688V20.01c0-.379.308-.687.687-.687.379.0.687.308.687.687v4.521h1.917c.379.0.687.308.687.687C19.562 25.598 19.254 25.907 18.875 25.907zM21.568 25.219c0 .379-.308.688-.687.688s-.687-.308-.687-.688V20.01c0-.379.308-.687.687-.687s.687.308.687.687v5.209zm6.27.0c0 .297-.188.559-.47.652-.071.024-.145.036-.218.036-.215.0-.42-.103-.549-.275l-2.669-3.635v3.222c0 .379-.308.688-.688.688-.379.0-.688-.308-.688-.688V20.01c0-.296.189-.558.47-.652.071-.024.144-.035.218-.035.214.0.42.103.549.275l2.67 3.635V20.01c0-.379.309-.687.688-.687.379.0.687.308.687.687v5.209zm4.214-3.292c.379.0.688.308.688.688.0.379-.308.687-.688.687h-1.917v1.23h1.917c.379.0.688.308.688.687s-.309.688-.688.688h-2.604c-.378.0-.687-.308-.687-.688v-2.603-.001s0-.001.0-.001v-2.601c0-.001.0-.001.0-.002.0-.379.308-.687.687-.687h2.604c.379.0.688.308.688.687s-.308.687-.688.687h-1.917v1.23h1.917z"/></svg></a></li></ul></div><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>目次</span></summary><div class=inner><ul><li><a href=#react-%e5%85%a5%e9%96%80%e3%82%b3%e3%83%b3%e3%83%9d%e3%83%bc%e3%83%8d%e3%83%b3%e3%83%88%e9%96%93%e3%81%ae%e3%83%87%e3%83%bc%e3%82%bf%e5%85%b1%e6%9c%89%e3%81%ae%e5%9f%ba%e6%9c%ac aria-label="React 入門：コンポーネント間のデータ共有の基本">React 入門：コンポーネント間のデータ共有の基本</a></li><li><a href=#1-%e8%a6%aa%e3%81%8b%e3%82%89%e5%ad%90%e3%81%b8%e3%81%ae%e3%83%87%e3%83%bc%e3%82%bf%e5%85%b1%e6%9c%89props aria-label="1. 親から子へのデータ共有（Props）">1. 親から子へのデータ共有（Props）</a></li><li><a href=#2-%e5%ad%90%e3%81%8b%e3%82%89%e8%a6%aa%e3%81%b8%e3%81%ae%e3%83%87%e3%83%bc%e3%82%bf%e5%85%b1%e6%9c%89%e9%96%a2%e6%95%b0%e3%82%92-props-%e3%81%a8%e3%81%97%e3%81%a6%e6%b8%a1%e3%81%99 aria-label="2. 子から親へのデータ共有（関数を Props として渡す）">2. 子から親へのデータ共有（関数を Props として渡す）</a></li><li><a href=#3-%e7%8a%b6%e6%85%8b%e3%82%92%e4%b8%8a%e4%bd%8d%e3%82%b3%e3%83%b3%e3%83%9d%e3%83%bc%e3%83%8d%e3%83%b3%e3%83%88%e3%81%ab%e6%8c%81%e3%81%9f%e3%81%9b%e3%82%8b%e3%83%aa%e3%83%95%e3%83%88%e3%82%a2%e3%83%83%e3%83%97 aria-label="3. 状態を上位コンポーネントに持たせる（リフトアップ）">3. 状態を上位コンポーネントに持たせる（リフトアップ）</a><ul><li><a href=#%e4%be%8b%e8%a4%87%e6%95%b0%e3%81%ae%e5%85%a5%e5%8a%9b%e3%83%95%e3%82%a9%e3%83%bc%e3%83%a0%e3%81%a7%e5%90%8c%e3%81%98%e5%80%a4%e3%82%92%e7%ae%a1%e7%90%86 aria-label=例：複数の入力フォームで同じ値を管理>例：複数の入力フォームで同じ値を管理</a></li></ul></li><li><a href=#4-%e3%82%b3%e3%83%b3%e3%83%86%e3%82%ad%e3%82%b9%e3%83%88%e3%82%92%e4%bd%bf%e3%81%a3%e3%81%9f%e3%83%87%e3%83%bc%e3%82%bf%e5%85%b1%e6%9c%89context-api aria-label="4. コンテキストを使ったデータ共有（Context API）">4. コンテキストを使ったデータ共有（Context API）</a></li><li><a href=#5-%e5%a4%96%e9%83%a8%e3%83%a9%e3%82%a4%e3%83%96%e3%83%a9%e3%83%aa%e3%82%92%e4%bd%bf%e3%81%a3%e3%81%9f%e7%8a%b6%e6%85%8b%e7%ae%a1%e7%90%86redux-zustand-%e3%81%aa%e3%81%a9 aria-label="5. 外部ライブラリを使った状態管理（Redux, Zustand など）">5. 外部ライブラリを使った状態管理（Redux, Zustand など）</a></li><li><a href=#%e3%81%be%e3%81%a8%e3%82%81 aria-label=まとめ>まとめ</a></li></ul></div></details></div><div style="display:flex;justify-content:cente;margin:.5em auto"><ins class=adsbygoogle style=display:inline-block;width:728px;height:90px data-ad-client=ca-pub-4988552421895566 data-ad-slot=7460187386></ins>
<script>(adsbygoogle=window.adsbygoogle||[]).push({})</script></div><div class=post-content><h2 id=react-入門コンポーネント間のデータ共有の基本>React 入門：コンポーネント間のデータ共有の基本<a hidden class=anchor aria-hidden=true href=#react-入門コンポーネント間のデータ共有の基本>#</a></h2><p>React ではコンポーネントを小さく分けて再利用する設計が基本です。しかし、複数のコンポーネントが同じデータにアクセスしたい場合、<strong>コンポーネント間でデータをどう共有するか</strong>が課題になります。</p><p>今回は、基本的なデータ共有の方法と考え方を整理して紹介します。</p><hr><h2 id=1-親から子へのデータ共有props>1. 親から子へのデータ共有（Props）<a hidden class=anchor aria-hidden=true href=#1-親から子へのデータ共有props>#</a></h2><p>最も基本的な方法は <strong>Props を使うこと</strong> です。親コンポーネントが持つデータを子コンポーネントに渡す形です。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-jsx data-lang=jsx><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>Child</span>({ <span style=color:#a6e22e>name</span> }) {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>return</span> &lt;<span style=color:#f92672>p</span>&gt;<span style=color:#a6e22e>こんにちは</span><span style=color:#960050;background-color:#1e0010>、</span>{<span style=color:#a6e22e>name</span>}<span style=color:#a6e22e>さん</span><span style=color:#960050;background-color:#1e0010>！</span>&lt;/<span style=color:#f92672>p</span>&gt;;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>Parent</span>() {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>userName</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;太郎&#34;</span>;
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>return</span> &lt;<span style=color:#f92672>Child</span> <span style=color:#a6e22e>name</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>userName</span>} /&gt;;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><ul><li><code>Parent</code> がデータを持ち、<code>Child</code> に渡して表示</li><li><strong>一方向のデータフロー</strong>（親 → 子）</li></ul><hr><h2 id=2-子から親へのデータ共有関数を-props-として渡す>2. 子から親へのデータ共有（関数を Props として渡す）<a hidden class=anchor aria-hidden=true href=#2-子から親へのデータ共有関数を-props-として渡す>#</a></h2><p>子コンポーネントから親にデータを伝えたい場合、親側で関数を定義し、それを Props として子に渡します。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-jsx data-lang=jsx><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>Child</span>({ <span style=color:#a6e22e>onClick</span> }) {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>return</span> &lt;<span style=color:#f92672>button</span> <span style=color:#a6e22e>onClick</span><span style=color:#f92672>=</span>{() =&gt; <span style=color:#a6e22e>onClick</span>(<span style=color:#e6db74>&#34;クリックされました&#34;</span>)}&gt;<span style=color:#a6e22e>送信</span>&lt;/<span style=color:#f92672>button</span>&gt;;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>Parent</span>() {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>handleChildClick</span> <span style=color:#f92672>=</span> (<span style=color:#a6e22e>message</span>) =&gt; {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>&#34;子からのメッセージ:&#34;</span>, <span style=color:#a6e22e>message</span>);
</span></span><span style=display:flex><span>  };
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>return</span> &lt;<span style=color:#f92672>Child</span> <span style=color:#a6e22e>onClick</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>handleChildClick</span>} /&gt;;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><ul><li>子がボタンを押すと、親の関数が呼ばれてデータを受け取れる</li><li>これも基本的には <strong>一方向のフロー</strong></li></ul><hr><h2 id=3-状態を上位コンポーネントに持たせるリフトアップ>3. 状態を上位コンポーネントに持たせる（リフトアップ）<a hidden class=anchor aria-hidden=true href=#3-状態を上位コンポーネントに持たせるリフトアップ>#</a></h2><p>複数の子コンポーネントで同じデータを共有したい場合、<strong>State を共通の親に持たせる</strong>方法があります。これを「リフトアップ（Lifting State Up）」と呼びます。</p><h3 id=例複数の入力フォームで同じ値を管理>例：複数の入力フォームで同じ値を管理<a hidden class=anchor aria-hidden=true href=#例複数の入力フォームで同じ値を管理>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-jsx data-lang=jsx><span style=display:flex><span><span style=color:#66d9ef>import</span> { <span style=color:#a6e22e>useState</span> } <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#34;react&#34;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>Input</span>({ <span style=color:#a6e22e>value</span>, <span style=color:#a6e22e>onChange</span> }) {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>return</span> &lt;<span style=color:#f92672>input</span> <span style=color:#a6e22e>value</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>value</span>} <span style=color:#a6e22e>onChange</span><span style=color:#f92672>=</span>{(<span style=color:#a6e22e>e</span>) =&gt; <span style=color:#a6e22e>onChange</span>(<span style=color:#a6e22e>e</span>.<span style=color:#a6e22e>target</span>.<span style=color:#a6e22e>value</span>)} /&gt;;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>Display</span>({ <span style=color:#a6e22e>value</span> }) {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>return</span> &lt;<span style=color:#f92672>p</span>&gt;<span style=color:#a6e22e>入力内容</span><span style=color:#f92672>:</span> {<span style=color:#a6e22e>value</span>}&lt;/<span style=color:#f92672>p</span>&gt;;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>App</span>() {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>const</span> [<span style=color:#a6e22e>text</span>, <span style=color:#a6e22e>setText</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>useState</span>(<span style=color:#e6db74>&#34;&#34;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>return</span> (
</span></span><span style=display:flex><span>    &lt;<span style=color:#f92672>div</span>&gt;
</span></span><span style=display:flex><span>      &lt;<span style=color:#f92672>Input</span> <span style=color:#a6e22e>value</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>text</span>} <span style=color:#a6e22e>onChange</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>setText</span>} /&gt;
</span></span><span style=display:flex><span>      &lt;<span style=color:#f92672>Display</span> <span style=color:#a6e22e>value</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>text</span>} /&gt;
</span></span><span style=display:flex><span>    &lt;/<span style=color:#f92672>div</span>&gt;
</span></span><span style=display:flex><span>  );
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><ul><li><code>text</code> は親コンポーネント <code>App</code> が管理</li><li><code>Input</code> で変更 → <code>Display</code> に反映</li><li>これで複数の子コンポーネント間で同じ状態を共有できる</li></ul><hr><h2 id=4-コンテキストを使ったデータ共有context-api>4. コンテキストを使ったデータ共有（Context API）<a hidden class=anchor aria-hidden=true href=#4-コンテキストを使ったデータ共有context-api>#</a></h2><p>親子関係が深くなると、Props を何階層も渡す必要があり面倒です。この場合 <strong>Context API</strong> を使うと便利です。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-jsx data-lang=jsx><span style=display:flex><span><span style=color:#66d9ef>import</span> { <span style=color:#a6e22e>createContext</span>, <span style=color:#a6e22e>useContext</span>, <span style=color:#a6e22e>useState</span> } <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#34;react&#34;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>UserContext</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createContext</span>();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>Display</span>() {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>user</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>useContext</span>(<span style=color:#a6e22e>UserContext</span>);
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>return</span> &lt;<span style=color:#f92672>p</span>&gt;<span style=color:#a6e22e>ユーザー</span><span style=color:#f92672>:</span> {<span style=color:#a6e22e>user</span>}&lt;/<span style=color:#f92672>p</span>&gt;;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>App</span>() {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>const</span> [<span style=color:#a6e22e>user</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>useState</span>(<span style=color:#e6db74>&#34;太郎&#34;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>return</span> (
</span></span><span style=display:flex><span>    &lt;<span style=color:#f92672>UserContext.Provider</span> <span style=color:#a6e22e>value</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>user</span>}&gt;
</span></span><span style=display:flex><span>      &lt;<span style=color:#f92672>Display</span> /&gt;
</span></span><span style=display:flex><span>    &lt;/<span style=color:#f92672>UserContext.Provider</span>&gt;
</span></span><span style=display:flex><span>  );
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><ul><li><code>UserContext.Provider</code> に値をセットすると、その子孫コンポーネントならどこでも <code>useContext</code> で取得可能</li><li>Props を何階層も渡す必要がない</li></ul><hr><h2 id=5-外部ライブラリを使った状態管理redux-zustand-など>5. 外部ライブラリを使った状態管理（Redux, Zustand など）<a hidden class=anchor aria-hidden=true href=#5-外部ライブラリを使った状態管理redux-zustand-など>#</a></h2><p>さらに大規模なアプリでは、<strong>グローバルに状態を管理するライブラリ</strong> を使うことが多いです。</p><ul><li>Redux, Zustand, Recoil など</li><li>複数のコンポーネントから同じ状態を直接読み書きできる</li><li>Context よりも高度な状態管理が可能</li></ul><hr><h2 id=まとめ>まとめ<a hidden class=anchor aria-hidden=true href=#まとめ>#</a></h2><ul><li>親から子へのデータ共有は <strong>Props</strong></li><li>子から親へは <strong>関数を Props として渡す</strong></li><li>複数の子間で共有したいときは <strong>リフトアップ</strong></li><li>親子関係が深い場合は <strong>Context API</strong></li><li>大規模アプリでは <strong>外部状態管理ライブラリ</strong> を検討</li></ul></div><div class=share-area><ul><li class=facebook><a target=_blank rel="noopener noreferrer" aria-label="share コンポーネント間のデータ共有の基本 on facebook" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fseiri-blog.github.io%2fposts%2freact-introduction-part10%2f" title="Facebook で共有する"><svg viewBox="0 0 512 512" height="20" width="20" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a></li><li class=twitter><a target=_blank rel="noopener noreferrer" aria-label="share コンポーネント間のデータ共有の基本 on twitter" href="https://twitter.com/intent/tweet/?text=%e3%82%b3%e3%83%b3%e3%83%9d%e3%83%bc%e3%83%8d%e3%83%b3%e3%83%88%e9%96%93%e3%81%ae%e3%83%87%e3%83%bc%e3%82%bf%e5%85%b1%e6%9c%89%e3%81%ae%e5%9f%ba%e6%9c%ac&url=https%3a%2f%2fseiri-blog.github.io%2fposts%2freact-introduction-part10%2f&hashtags=react%2c%e5%85%a5%e9%96%80" title="Twitter(X) で共有する"><svg id="svg5" xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" height="30" width="30" viewBox="0 0 2e3 512"><g id="layer1" transform="translate(52.390088,-25.058597)"><path id="path1009" fill="#fff" d="M283.94 167.31l386.39 516.64L281.5 1104h87.51l340.42-367.76L984.48 1104h297.8L874.15 558.3l361.92-390.99h-87.51l-313.51 338.7-253.31-338.7H283.94zm128.69 64.46h136.81l604.13 807.76h-136.81L412.63 231.77z"/></g></svg></a></li><li class=hatena><a target=_blank rel="noopener noreferrer" aria-label="share コンポーネント間のデータ共有の基本 on Hatena" href="http://b.hatena.ne.jp/add?mode=confirm&url=https%3a%2f%2fseiri-blog.github.io%2fposts%2freact-introduction-part10%2f&title=%e3%82%b3%e3%83%b3%e3%83%9d%e3%83%bc%e3%83%8d%e3%83%b3%e3%83%88%e9%96%93%e3%81%ae%e3%83%87%e3%83%bc%e3%82%bf%e5%85%b1%e6%9c%89%e3%81%ae%e5%9f%ba%e6%9c%ac" title="Hatena で共有する">B!</a></li><li class=line><a target=_blank rel="noopener noreferrer" aria-label="share コンポーネント間のデータ共有の基本 on Line" href=http://line.me/R/msg/text/?https%3a%2f%2fseiri-blog.github.io%2fposts%2freact-introduction-part10%2f%0a%e3%82%b3%e3%83%b3%e3%83%9d%e3%83%bc%e3%83%8d%e3%83%b3%e3%83%88%e9%96%93%e3%81%ae%e3%83%87%e3%83%bc%e3%82%bf%e5%85%b1%e6%9c%89%e3%81%ae%e5%9f%ba%e6%9c%ac title="LINE で共有する"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48" width="35" height="50"><path fill="currentcolor" d="M37.113 22.417c0-5.865-5.88-10.637-13.107-10.637s-13.108 4.772-13.108 10.637c0 5.258 4.663 9.662 10.962 10.495.427.092 1.008.282 1.155.646.132.331.086.85.042 1.185.0.0-.153.925-.187 1.122-.057.331-.263 1.296 1.135.707 1.399-.589 7.548-4.445 10.298-7.611h-.001C36.203 26.879 37.113 24.764 37.113 22.417zm-18.238 3.49h-2.604c-.379.0-.687-.308-.687-.688V20.01c0-.379.308-.687.687-.687.379.0.687.308.687.687v4.521h1.917c.379.0.687.308.687.687C19.562 25.598 19.254 25.907 18.875 25.907zM21.568 25.219c0 .379-.308.688-.687.688s-.687-.308-.687-.688V20.01c0-.379.308-.687.687-.687s.687.308.687.687v5.209zm6.27.0c0 .297-.188.559-.47.652-.071.024-.145.036-.218.036-.215.0-.42-.103-.549-.275l-2.669-3.635v3.222c0 .379-.308.688-.688.688-.379.0-.688-.308-.688-.688V20.01c0-.296.189-.558.47-.652.071-.024.144-.035.218-.035.214.0.42.103.549.275l2.67 3.635V20.01c0-.379.309-.687.688-.687.379.0.687.308.687.687v5.209zm4.214-3.292c.379.0.688.308.688.688.0.379-.308.687-.688.687h-1.917v1.23h1.917c.379.0.688.308.688.687s-.309.688-.688.688h-2.604c-.378.0-.687-.308-.687-.688v-2.603-.001s0-.001.0-.001v-2.601c0-.001.0-.001.0-.002.0-.379.308-.687.687-.687h2.604c.379.0.688.308.688.687s-.308.687-.688.687h-1.917v1.23h1.917z"/></svg></a></li></ul></div><div style="display:flex;justify-content:center;margin:.5em auto"><ins class=adsbygoogle style=display:inline-block;width:728px;height:90px data-ad-client=ca-pub-4988552421895566 data-ad-slot=8581697363></ins>
<script>(adsbygoogle=window.adsbygoogle||[]).push({})</script></div><footer class=post-footer><nav class=paginav><a class=prev href=https://seiri-blog.github.io/posts/react-introduction-part12/><span class=title>« 前へ</span><br><span>React 入門で知っておくべき注意点</span></a>
<a class=next href=https://seiri-blog.github.io/posts/react-introduction-part9/><span class=title>次へ »</span><br><span>useCallbackで関数を最適化する</span></a></nav></footer><script src=https://giscus.app/client.js data-repo=seiri-blog/seiri-blog.github.io data-repo-id=R_kgDOJGyRgA data-category=General data-category-id=DIC_kwDOJGyRgM4CgDQM data-mapping=pathname data-strict=0 data-reactions-enabled=1 data-emit-metadata=0 data-input-position=bottom data-theme=preferred_color_scheme data-lang=ja crossorigin=anonymous async></script></article></main><footer class=footer><span>&copy; 2024 Seiri All rights reserved</span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(t){t.preventDefault();var e=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(e)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(e)}']`).scrollIntoView({behavior:"smooth"}),e==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${e}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(t=>{const n=t.parentNode.parentNode,e=document.createElement("button");e.classList.add("copy-code"),e.innerHTML="コピー";function s(){e.innerHTML="コピーされました!",setTimeout(()=>{e.innerHTML="コピー"},2e3)}e.addEventListener("click",o=>{if("clipboard"in navigator){navigator.clipboard.writeText(t.textContent),s();return}const e=document.createRange();e.selectNodeContents(t);const n=window.getSelection();n.removeAllRanges(),n.addRange(e);try{document.execCommand("copy"),s()}catch(e){}n.removeRange(e)}),n.classList.contains("highlight")?n.appendChild(e):n.parentNode.firstChild==n||(t.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?t.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(e):t.parentNode.appendChild(e))})</script></body></html>